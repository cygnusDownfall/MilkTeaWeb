<html>
<head>
  <style>
    table {
      border-collapse: collapse; /* Loại bỏ đường viền kép */
      width: 100%; /* Chiều rộng bằng màn hình */
      overflow-x: auto; /* Tạo thanh cuộn nếu quá rộng */
    }

    th, td {
      border: 1px solid black;
      padding: 10px;
      text-align: left;
    }

    #add {
      margin: 10px;
    }

    /* Màu nền cho hàng chẵn */
    tr:nth-child(even) {
      background-color: #f2f2f2;
    }

    /* Màu nền cho hàng lẻ */
    tr:nth-child(odd) {
      background-color: #e6e6e6;
    }

    /* Màu nền cho hàng tiêu đề */
    tr:first-child {
      background-color: green;
      color: white;
    }

    /* Màu nền cho hàng khi di chuột */
    tr:hover {
      background-color: yellow;
    }

    /* Màu nền cho ô khi nhấn vào */
    td:active {
      background-color: red;
    }
  </style>
</head>
<body>
  <h1>Giao diện quản lý hàng</h1>
  <table id="inventory">
    <thead>
      <tr>
        <th>Mã hàng</th>
        <th>Tên hàng</th>
        <th>Số lượng</th>
        <th>Đơn giá</th>
        <th>Thao tác</th>
      </tr>
    </thead>
    <tbody id="items">
      <!-- Nội dung sẽ được thêm bằng Javascript -->
    </tbody>
  </table>
  <button id="add">Thêm hàng mới</button>

  <!-- Một form ẩn để nhập thông tin hàng mới -->
  <div id="form" style="display: none;">
    <label>Mã hàng:</label>
    <input type="text" id="code"><br>
    <label>Tên hàng:</label>
    <input type="text" id="name"><br>
    <label>Số lượng:</label>
    <input type="number" id="quantity"><br>
    <label>Đơn giá:</label>
    <input type="number" id="price"><br>
    <button id="save">Lưu</button>
    <button id="cancel">Hủy</button>
  </div>

  <!-- Một script để xử lý logic của giao diện -->
  <script>

    // Một mảng để lưu trữ danh sách các mặt hàng
    let items = [];

    // Một biến để lưu trữ chỉ số của mặt hàng đang được sửa
    let editIndex = -1;

    // Một hàm để hiển thị danh sách các mặt hàng lên bảng
    function showItems() {
      // Lấy phần tử tbody
      let tbody = document.getElementById("items");
      // Xóa nội dung cũ
      tbody.innerHTML = "";
      // Duyệt qua mảng items
      for (let i = 0; i < items.length; i++) {
        // Lấy một mặt hàng
        let item = items[i];
        // Tạo một dòng mới
        let tr = document.createElement("tr");
        // Tạo các ô cho các thuộc tính của mặt hàng
        let tdCode = document.createElement("td");
        tdCode.innerText = item.code;
        let tdName = document.createElement("td");
        tdName.innerText = item.name;
        let tdQuantity = document.createElement("td");
        tdQuantity.innerText = item.quantity;
        let tdPrice = document.createElement("td");
        tdPrice.innerText = item.price;
        // Tạo một ô cho các nút thao tác
        let tdAction = document.createElement("td");
        // Tạo một nút để xóa mặt hàng
        let btnDelete = document.createElement("button");
        btnDelete.innerText = "Xóa";
        btnDelete.onclick = function() {
          // Xóa mặt hàng khỏi mảng
          items.splice(i, 1);
          // Hiển thị lại danh sách
          showItems();
        };
        // Thêm nút xóa vào ô thao tác
        tdAction.appendChild(btnDelete);
        
        // Tạo một nút để sửa mặt hàng
        let btnEdit = document.createElement("button");
        btnEdit.innerText = "Sửa";
        btnEdit.onclick = function() {
          // Lưu trữ chỉ số của mặt hàng đang được sửa
          editIndex = i;
          // Hiển thị form nhập thông tin với các giá trị đã có của mặt hàng
          showForm(item);
        };
        // Thêm nút sửa vào ô thao tác
        tdAction.appendChild(btnEdit);

        // Thêm các ô vào dòng
        tr.appendChild(tdCode);
        tr.appendChild(tdName);
        tr.appendChild(tdQuantity);
        tr.appendChild(tdPrice);
        tr.appendChild(tdAction);
        // Thêm dòng vào tbody
        tbody.appendChild(tr);
      }
          }

    // Một hàm để hiển thị form nhập thông tin hàng mới hoặc sửa thông tin hàng cũ
    function showForm(item) {
      // Lấy phần tử form
      let form = document.getElementById("form");
      // Hiển thị form
      form.style.display = "block";
      if (item) {
        // Nếu có đối số item, tức là đang sửa thông tin của mặt hàng đó
        // Điền các giá trị của item vào form
        document.getElementById("code").value = item.code;
        document.getElementById("name").value = item.name;
        document.getElementById("quantity").value = item.quantity;
        document.getElementById("price").value = item.price;
      } else {
         // Nếu không có đối số item, tức là đang thêm thông tin của mặt hàng mới
         // Xóa các giá trị cũ trong form
         document.getElementById("code").value = "";
         document.getElementById("name").value = "";
         document.getElementById("quantity").value = "";
         document.getElementById("price").value = "";
      }
      
    }

    // Một hàm để ẩn form nhập thông tin hàng mới hoặc sửa thông tin hàng cũ
    function hideForm() {
      // Lấy phần tử form
      let form = document.getElementById("form");
      // Ẩn form
      form.style.display = "none";
      // Đặt lại chỉ số của mặt hàng đang được sửa về -1 (không có)
      editIndex = -1;
    }

    // Một hàm để lưu thông tin hàng mới vào mảng hoặc cập nhật thông tin hàng cũ trong mảng
    function saveItem() {
      // Lấy các giá trị từ form
      let code = document.getElementById("code").value;
      let name = document.getElementById("name").value;
      let quantity = document.getElementById("quantity").value;
      let price = document.getElementById("price").value;
      // Kiểm tra tính hợp lệ của các giá trị
      if (code == "" || name == "" || quantity == "" || price == "") {
        alert("Vui lòng nhập đầy đủ thông tin!");
        return;
      }
      if (quantity <= 0 || price <= 0) {
        alert("Số lượng và đơn giá phải là số dương!");
        return;
      }
      
      if (editIndex == -1) {
         // Nếu editIndex bằng -1, tức là đang thêm thông tin của mặt hàng mới 
         // Tạo một đối tượng để lưu trữ thông tin của mặt hàng 
         let item = { 
           code: code, 
           name: name, 
           quantity: quantity, 
           price: price 
         }; 
         // Thêm đối tượng vào mảng items 
         items.push(item); 
       } else { 
         // Nếu editIndex khác -1, tức là đang sửa thông tin của mặt hàng có chỉ số là editIndex 
         // Cập nhật các thuộc tính của đối tượng trong mảng items 
         items [editIndex].code = code; 
         items [editIndex].name = name; 
         items [editIndex].quantity = quantity; 
         items [editIndex].price = price; 
       }
       
       // Hiển thị lại danh sách các mặt hàng
       showItems();
       // Ẩn form nhập thông tin
       hideForm();
    }

    // Gán sự kiện cho nút thêm hàng mới
    document.getElementById("add").onclick = function() {
      // Hiển thị form nhập thông tin với các giá trị rỗng
      showForm();
    };

    // Gán sự kiện cho nút lưu thông tin hàng mới hoặc sửa thông tin hàng cũ
    document.getElementById("save").onclick = saveItem;

    // Gán sự kiện cho nút hủy nhập thông tin hàng mới hoặc sửa thông tin hàng cũ
    document.getElementById("cancel").onclick = hideForm;

  </script>
</body>
</html>

